{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/main.js"],"names":[],"mappings":"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","file":"build.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","const BALL_RADIUS = 20,\n    PADDLE_HEIGHT = 15,\n    PADDLE_WIDTH = 200, \n    BRICK_WIDTH = 140,\n    BRICK_HEIGHT = 40,\n    BRICK_PADDING = 10,\n    BRICK_OFFSET_TOP = 30,\n    BRICK_OFFSET_LEFT = 30,\n    BRICK_ROW_COUNT = 3,\n    BRICK_COLUMN_COUNT = 6;\n\nlet canvas = document.getElementById(\"game-region\"),\n    ctx = canvas.getContext(\"2d\"),\n    // center of the ball, initial location of the ball\n    x = canvas.width/2,\n    y = canvas.height - 60,\n    // ball moving speed\n    dx = 4,\n    dy = -4,\n    // paddle starting x position\n    paddleX = (canvas.width - PADDLE_WIDTH) / 2,\n    // handle keyboard press, used for paddle moving\n    rightPressed = false,\n    leftPressed = false,\n    score = 0,\n    lives = 3;\n\n// initiate bricks 2D array \nlet bricks = [];\nfor (let col = 0; col < BRICK_COLUMN_COUNT; col++) {\n    // each brick column has 1 brick row\n    bricks[col] = [];\n    for (let row = 0; row < BRICK_ROW_COUNT; row++) {\n        // each brick row contains a brick cell, with inital x, y\n        bricks[col][row] = { x: 0, y: 0, status: 1 };\n    }\n}\n\nfunction drawBricks() {\n    \"use strict\";\n    let brickX = 0,\n        brickY = 0;\n    for (let col = 0; col < BRICK_COLUMN_COUNT; col++) {\n        for (let row = 0; row < BRICK_ROW_COUNT; row++) {\n            // determine the new brick x, y coord\n            if (bricks[col][row].status === 1) {\n                brickX = (col * (BRICK_WIDTH + BRICK_PADDING)) + BRICK_OFFSET_LEFT;\n                brickY = (row * (BRICK_HEIGHT + BRICK_PADDING)) + BRICK_OFFSET_TOP;\n                bricks[col][row].x = brickX;\n                bricks[col][row].y = brickY;\n                ctx.beginPath();\n                ctx.rect(brickX, brickY, BRICK_WIDTH, BRICK_HEIGHT);\n                ctx.fillStyle = \"#0095DD\";\n                ctx.fill();\n                ctx.closePath();\n            }\n        }\n    }\n}\n\n\n\nfunction drawBall() {\n    \"use strict\";\n    ctx.beginPath();\n    ctx.arc(x, y, BALL_RADIUS, 0, Math.PI*2);\n    ctx.fillStyle = \"#0095DD\";\n    ctx.fill();\n    ctx.closePath();\n}\n\n\nfunction drawPaddle() {\n    \"use strict\";\n    ctx.beginPath();\n    ctx.rect(paddleX, canvas.height - PADDLE_HEIGHT, PADDLE_WIDTH, PADDLE_HEIGHT);\n    ctx.fillStyle = \"#0095DD\";\n    ctx.fill();\n    ctx.closePath();\n}\n\nfunction drawScore() {\n    \"use strict\";\n    ctx.font = \"16px Arial\";\n    ctx.fillStyle = \"#0095DD\";\n    ctx.fillText(\"Score: \" + score, 8, 20);\n}\n\nfunction drawLives() {\n    \"use strict\";\n    ctx.font = \"16px Arial\";\n    ctx.fillStyle = \"#0095DD\";\n    ctx.fillText(\"Lives: \" + lives, canvas.width - 65, 20);\n}\n\nfunction collisionDetection() {\n    // Do collision detection by calculating if the center of the ball is inside\n    // any brick, for every frame.\n    \"use strict\";\n    let b;\n\n    for (let col = 0; col < BRICK_COLUMN_COUNT; col++) {\n        for (let row = 0; row < BRICK_ROW_COUNT; row++) {\n            b = bricks[col][row];\n            // if ball's center is inside any brick\n            if (x > b.x && x < b.x + BRICK_WIDTH && \n                y > b.y && y < b.y + BRICK_HEIGHT && b.status === 1) {\n                dy = -dy;\n                b.status = 0;\n                score++;\n                if (score === BRICK_ROW_COUNT * BRICK_COLUMN_COUNT) {\n                    alert(\"You win, congratulations!\");\n                }\n            }\n        }\n    }\n}\n\n\n// handle keyboard arrows\ndocument.addEventListener(\"keydown\", keyDownHandler, false);\ndocument.addEventListener(\"keyup\", keyUpHandler, false);\n// handle mouse movement\ndocument.addEventListener(\"mousemove\", mouseMoveHandler, false);\n\nfunction keyDownHandler(e) {\n    \"use strict\";\n    if (e.keyCode === 39) {\n        rightPressed = true;\n    } else if (e.keyCode === 37) {\n        leftPressed = true;\n    }\n}\n\nfunction keyUpHandler(e) {\n    \"use strict\";\n    if (e.keyCode === 39) {\n        rightPressed = false;\n    } else if (e.keyCode === 37) {\n        leftPressed = false;\n    }\n}\n\nfunction mouseMoveHandler(e) {\n    \"use strict\";\n    let relativeX = e.clientX - canvas.offsetLeft;\n    if (relativeX > 0 && relativeX < canvas.width) {\n        paddleX = relativeX - PADDLE_WIDTH/2;\n    }\n}\n\n// main draw function, called once every 5ms.\nfunction draw() {\n    \"use strict\";\n    // clear the canvas at the start of each frame\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    drawBricks();\n    drawBall();\n    drawPaddle();\n    drawScore();\n    drawLives();\n\n    collisionDetection();\n\n    // bounce the ball left and right\n    if ((x + dx > canvas.width - BALL_RADIUS) || (x + dx < BALL_RADIUS)) {\n        // keep the y direction going, but reverse the x direction\n        dx = -dx;\n    }\n\n    // bounce ball on top\n    if (y + dy < BALL_RADIUS) {\n        dy = -dy;\n    } else if (y + dy > canvas.height - BALL_RADIUS) {\n        // when ball hits bottom, determine if the ball's x coord is within paddle's \n        // left and right X. \n        if (x > paddleX && x < paddleX + PADDLE_WIDTH) {\n            // if yes, bounce it up again.\n            dy = -dy;\n        } else {\n            // life\n            lives--;\n            if (!lives) {\n                alert(\"GAME OVER\");\n            } else {\n                x = canvas.width / 2;\n                y = canvas.height - 30;\n                dx = 4;\n                dy = -4;\n                paddleX = (canvas.width - PADDLE_WIDTH) / 2;\n            }\n        }\n\n    }\n\n    // movement and collision detection for pedal (horizontally)\n    if (rightPressed && paddleX < canvas.width-PADDLE_WIDTH) {\n        paddleX += 7;\n    } else if (leftPressed && paddleX > 0) {\n        paddleX -= 7;\n    }\n\n    x += dx;\n    y += dy;\n\n    requestAnimationFrame(draw);\n}\n\ndraw();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBTSxjQUFOLEFBQW9CO0lBQ2hCLGdCQURKLEFBQ29CO0lBQ2hCLGVBRkosQUFFbUI7SUFDZixjQUhKLEFBR2tCO0lBQ2QsZUFKSixBQUltQjtJQUNmLGdCQUxKLEFBS29CO0lBQ2hCLG1CQU5KLEFBTXVCO0lBQ25CLG9CQVBKLEFBT3dCO0lBQ3BCLGtCQVJKLEFBUXNCO0lBQ2xCLHFCQVRKLEFBU3lCOztBQUV6QixJQUFJLFNBQVMsU0FBQSxBQUFTLGVBQXRCLEFBQWEsQUFBd0I7SUFDakMsTUFBTSxPQUFBLEFBQU8sV0FEakIsQUFDVSxBQUFrQjs7O0FBQ3hCO0FBQ0EsSUFBSSxPQUFBLEFBQU8sUUFIZixBQUdxQjtJQUNqQixJQUFJLE9BQUEsQUFBTyxTQUpmLEFBSXdCOzs7QUFDcEI7QUFDQSxLQU5KLEFBTVM7SUFDTCxLQUFLLENBUFQsQUFPVTs7O0FBQ047QUFDQSxVQUFVLENBQUMsT0FBQSxBQUFPLFFBQVIsQUFBZ0IsZ0JBVDlCLEFBUzhDOzs7QUFDMUM7QUFDQSxlQVhKLEFBV21CO0lBQ2YsY0FaSixBQVlrQjtJQUNkLFFBYkosQUFhWTtJQUNSLFFBZEosQUFjWTs7QUFFWjtBQUNBLElBQUksU0FBSixBQUFhO0FBQ2IsS0FBSyxJQUFJLE1BQVQsQUFBZSxHQUFHLE1BQWxCLEFBQXdCLG9CQUF4QixBQUE0QyxPQUFPLEFBQy9DO0FBQ0E7V0FBQSxBQUFPLE9BQVAsQUFBYyxBQUNkO1NBQUssSUFBSSxNQUFULEFBQWUsR0FBRyxNQUFsQixBQUF3QixpQkFBeEIsQUFBeUMsT0FBTyxBQUM1QztBQUNBO2VBQUEsQUFBTyxLQUFQLEFBQVksT0FBTyxFQUFFLEdBQUYsQUFBSyxHQUFHLEdBQVIsQUFBVyxHQUFHLFFBQWpDLEFBQW1CLEFBQXNCLEFB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LEFBQU0sQUFDVDtBQUVEOztBQUNBO1FBQUksSUFBQSxBQUFJLEtBQVIsQUFBYSxhQUFhLEFBQ3RCO2FBQUssQ0FBTCxBQUFNLEFBQ1Q7QUFGRCxXQUVPLElBQUksSUFBQSxBQUFJLEtBQUssT0FBQSxBQUFPLFNBQXBCLEFBQTZCLGFBQWEsQUFDN0M7QUFDQTtBQUNBO1lBQUksSUFBQSxBQUFJLFdBQVcsSUFBSSxVQUF2QixBQUFpQyxjQUFjLEFBQzNDO0FBQ0E7aUJBQUssQ0FBTCxBQUFNLEFBQ1Q7QUFIRCxlQUdPLEFBQ0g7QUFDQTtBQUNBO2dCQUFJLENBQUosQUFBSyxPQUFPLEFBQ1I7c0JBQUEsQUFBTSxBQUNUO0FBRkQsbUJBRU8sQUFDSDtvQkFBSSxPQUFBLEFBQU8sUUFBWCxBQUFtQixBQUNuQjtvQkFBSSxPQUFBLEFBQU8sU0FBWCxBQUFvQixBQUNwQjtxQkFBQSxBQUFLLEFBQ0w7cUJBQUssQ0FBTCxBQUFNLEFBQ047MEJBQVUsQ0FBQyxPQUFBLEFBQU8sUUFBUixBQUFnQixnQkFBMUIsQUFBMEMsQUFDN0M7QUFDSjtBQUVKO0FBRUQ7O0FBQ0E7UUFBSSxnQkFBZ0IsVUFBVSxPQUFBLEFBQU8sUUFBckMsQUFBMkMsY0FBYyxBQUNyRDttQkFBQSxBQUFXLEFBQ2Q7QUFGRCxXQUVPLElBQUksZUFBZSxVQUFuQixBQUE2QixHQUFHLEFBQ25DO21CQUFBLEFBQVcsQUFDZDtBQUVEOztTQUFBLEFBQUssQUFDTDtTQUFBLEFBQUssQUFFTDs7MEJBQUEsQUFBc0IsQUFDekI7OztBQUVEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNvbnN0IEJBTExfUkFESVVTID0gMjAsXG4gICAgUEFERExFX0hFSUdIVCA9IDE1LFxuICAgIFBBRERMRV9XSURUSCA9IDIwMCwgXG4gICAgQlJJQ0tfV0lEVEggPSAxNDAsXG4gICAgQlJJQ0tfSEVJR0hUID0gNDAsXG4gICAgQlJJQ0tfUEFERElORyA9IDEwLFxuICAgIEJSSUNLX09GRlNFVF9UT1AgPSAzMCxcbiAgICBCUklDS19PRkZTRVRfTEVGVCA9IDMwLFxuICAgIEJSSUNLX1JPV19DT1VOVCA9IDMsXG4gICAgQlJJQ0tfQ09MVU1OX0NPVU5UID0gNjtcblxubGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZS1yZWdpb25cIiksXG4gICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxcbiAgICAvLyBjZW50ZXIgb2YgdGhlIGJhbGwsIGluaXRpYWwgbG9jYXRpb24gb2YgdGhlIGJhbGxcbiAgICB4ID0gY2FudmFzLndpZHRoLzIsXG4gICAgeSA9IGNhbnZhcy5oZWlnaHQgLSA2MCxcbiAgICAvLyBiYWxsIG1vdmluZyBzcGVlZFxuICAgIGR4ID0gNCxcbiAgICBkeSA9IC00LFxuICAgIC8vIHBhZGRsZSBzdGFydGluZyB4IHBvc2l0aW9uXG4gICAgcGFkZGxlWCA9IChjYW52YXMud2lkdGggLSBQQURETEVfV0lEVEgpIC8gMixcbiAgICAvLyBoYW5kbGUga2V5Ym9hcmQgcHJlc3MsIHVzZWQgZm9yIHBhZGRsZSBtb3ZpbmdcbiAgICByaWdodFByZXNzZWQgPSBmYWxzZSxcbiAgICBsZWZ0UHJlc3NlZCA9IGZhbHNlLFxuICAgIHNjb3JlID0gMCxcbiAgICBsaXZlcyA9IDM7XG5cbi8vIGluaXRpYXRlIGJyaWNrcyAyRCBhcnJheSBcbmxldCBicmlja3MgPSBbXTtcbmZvciAobGV0IGNvbCA9IDA7IGNvbCA8IEJSSUNLX0NPTFVNTl9DT1VOVDsgY29sKyspIHtcbiAgICAvLyBlYWNoIGJyaWNrIGNvbHVtbiBoYXMgMSBicmljayByb3dcbiAgICBicmlja3NbY29sXSA9IFtdO1xuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IEJSSUNLX1JPV19DT1VOVDsgcm93KyspIHtcbiAgICAgICAgLy8gZWFjaCBicmljayByb3cgY29udGFpbnMgYSBicmljayBjZWxsLCB3aXRoIGluaXRhbCB4LCB5XG4gICAgICAgIGJyaWNrc1tjb2xdW3Jvd10gPSB7IHg6IDAsIHk6IDAsIHN0YXR1czogMSB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0JyaWNrcygpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBsZXQgYnJpY2tYID0gMCxcbiAgICAgICAgYnJpY2tZID0gMDtcbiAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBCUklDS19DT0xVTU5fQ09VTlQ7IGNvbCsrKSB7XG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IEJSSUNLX1JPV19DT1VOVDsgcm93KyspIHtcbiAgICAgICAgICAgIC8vIGRldGVybWluZSB0aGUgbmV3IGJyaWNrIHgsIHkgY29vcmRcbiAgICAgICAgICAgIGlmIChicmlja3NbY29sXVtyb3ddLnN0YXR1cyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGJyaWNrWCA9IChjb2wgKiAoQlJJQ0tfV0lEVEggKyBCUklDS19QQURESU5HKSkgKyBCUklDS19PRkZTRVRfTEVGVDtcbiAgICAgICAgICAgICAgICBicmlja1kgPSAocm93ICogKEJSSUNLX0hFSUdIVCArIEJSSUNLX1BBRERJTkcpKSArIEJSSUNLX09GRlNFVF9UT1A7XG4gICAgICAgICAgICAgICAgYnJpY2tzW2NvbF1bcm93XS54ID0gYnJpY2tYO1xuICAgICAgICAgICAgICAgIGJyaWNrc1tjb2xdW3Jvd10ueSA9IGJyaWNrWTtcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY3R4LnJlY3QoYnJpY2tYLCBicmlja1ksIEJSSUNLX1dJRFRILCBCUklDS19IRUlHSFQpO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiMwMDk1RERcIjtcbiAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cbmZ1bmN0aW9uIGRyYXdCYWxsKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHgsIHksIEJBTExfUkFESVVTLCAwLCBNYXRoLlBJKjIpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBcIiMwMDk1RERcIjtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbn1cblxuXG5mdW5jdGlvbiBkcmF3UGFkZGxlKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgucmVjdChwYWRkbGVYLCBjYW52YXMuaGVpZ2h0IC0gUEFERExFX0hFSUdIVCwgUEFERExFX1dJRFRILCBQQURETEVfSEVJR0hUKTtcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjMDA5NUREXCI7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG59XG5cbmZ1bmN0aW9uIGRyYXdTY29yZSgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBjdHguZm9udCA9IFwiMTZweCBBcmlhbFwiO1xuICAgIGN0eC5maWxsU3R5bGUgPSBcIiMwMDk1RERcIjtcbiAgICBjdHguZmlsbFRleHQoXCJTY29yZTogXCIgKyBzY29yZSwgOCwgMjApO1xufVxuXG5mdW5jdGlvbiBkcmF3TGl2ZXMoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgY3R4LmZvbnQgPSBcIjE2cHggQXJpYWxcIjtcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjMDA5NUREXCI7XG4gICAgY3R4LmZpbGxUZXh0KFwiTGl2ZXM6IFwiICsgbGl2ZXMsIGNhbnZhcy53aWR0aCAtIDY1LCAyMCk7XG59XG5cbmZ1bmN0aW9uIGNvbGxpc2lvbkRldGVjdGlvbigpIHtcbiAgICAvLyBEbyBjb2xsaXNpb24gZGV0ZWN0aW9uIGJ5IGNhbGN1bGF0aW5nIGlmIHRoZSBjZW50ZXIgb2YgdGhlIGJhbGwgaXMgaW5zaWRlXG4gICAgLy8gYW55IGJyaWNrLCBmb3IgZXZlcnkgZnJhbWUuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgbGV0IGI7XG5cbiAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBCUklDS19DT0xVTU5fQ09VTlQ7IGNvbCsrKSB7XG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IEJSSUNLX1JPV19DT1VOVDsgcm93KyspIHtcbiAgICAgICAgICAgIGIgPSBicmlja3NbY29sXVtyb3ddO1xuICAgICAgICAgICAgLy8gaWYgYmFsbCdzIGNlbnRlciBpcyBpbnNpZGUgYW55IGJyaWNrXG4gICAgICAgICAgICBpZiAoeCA+IGIueCAmJiB4IDwgYi54ICsgQlJJQ0tfV0lEVEggJiYgXG4gICAgICAgICAgICAgICAgeSA+IGIueSAmJiB5IDwgYi55ICsgQlJJQ0tfSEVJR0hUICYmIGIuc3RhdHVzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZHkgPSAtZHk7XG4gICAgICAgICAgICAgICAgYi5zdGF0dXMgPSAwO1xuICAgICAgICAgICAgICAgIHNjb3JlKys7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlID09PSBCUklDS19ST1dfQ09VTlQgKiBCUklDS19DT0xVTU5fQ09VTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3Ugd2luLCBjb25ncmF0dWxhdGlvbnMhXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vLyBoYW5kbGUga2V5Ym9hcmQgYXJyb3dzXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBrZXlEb3duSGFuZGxlciwgZmFsc2UpO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGtleVVwSGFuZGxlciwgZmFsc2UpO1xuLy8gaGFuZGxlIG1vdXNlIG1vdmVtZW50XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlTW92ZUhhbmRsZXIsIGZhbHNlKTtcblxuZnVuY3Rpb24ga2V5RG93bkhhbmRsZXIoZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGlmIChlLmtleUNvZGUgPT09IDM5KSB7XG4gICAgICAgIHJpZ2h0UHJlc3NlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3KSB7XG4gICAgICAgIGxlZnRQcmVzc2VkID0gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGtleVVwSGFuZGxlcihlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gMzkpIHtcbiAgICAgICAgcmlnaHRQcmVzc2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3KSB7XG4gICAgICAgIGxlZnRQcmVzc2VkID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtb3VzZU1vdmVIYW5kbGVyKGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBsZXQgcmVsYXRpdmVYID0gZS5jbGllbnRYIC0gY2FudmFzLm9mZnNldExlZnQ7XG4gICAgaWYgKHJlbGF0aXZlWCA+IDAgJiYgcmVsYXRpdmVYIDwgY2FudmFzLndpZHRoKSB7XG4gICAgICAgIHBhZGRsZVggPSByZWxhdGl2ZVggLSBQQURETEVfV0lEVEgvMjtcbiAgICB9XG59XG5cbi8vIG1haW4gZHJhdyBmdW5jdGlvbiwgY2FsbGVkIG9uY2UgZXZlcnkgNW1zLlxuZnVuY3Rpb24gZHJhdygpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvLyBjbGVhciB0aGUgY2FudmFzIGF0IHRoZSBzdGFydCBvZiBlYWNoIGZyYW1lXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGRyYXdCcmlja3MoKTtcbiAgICBkcmF3QmFsbCgpO1xuICAgIGRyYXdQYWRkbGUoKTtcbiAgICBkcmF3U2NvcmUoKTtcbiAgICBkcmF3TGl2ZXMoKTtcblxuICAgIGNvbGxpc2lvbkRldGVjdGlvbigpO1xuXG4gICAgLy8gYm91bmNlIHRoZSBiYWxsIGxlZnQgYW5kIHJpZ2h0XG4gICAgaWYgKCh4ICsgZHggPiBjYW52YXMud2lkdGggLSBCQUxMX1JBRElVUykgfHwgKHggKyBkeCA8IEJBTExfUkFESVVTKSkge1xuICAgICAgICAvLyBrZWVwIHRoZSB5IGRpcmVjdGlvbiBnb2luZywgYnV0IHJldmVyc2UgdGhlIHggZGlyZWN0aW9uXG4gICAgICAgIGR4ID0gLWR4O1xuICAgIH1cblxuICAgIC8vIGJvdW5jZSBiYWxsIG9uIHRvcFxuICAgIGlmICh5ICsgZHkgPCBCQUxMX1JBRElVUykge1xuICAgICAgICBkeSA9IC1keTtcbiAgICB9IGVsc2UgaWYgKHkgKyBkeSA+IGNhbnZhcy5oZWlnaHQgLSBCQUxMX1JBRElVUykge1xuICAgICAgICAvLyB3aGVuIGJhbGwgaGl0cyBib3R0b20sIGRldGVybWluZSBpZiB0aGUgYmFsbCdzIHggY29vcmQgaXMgd2l0aGluIHBhZGRsZSdzIFxuICAgICAgICAvLyBsZWZ0IGFuZCByaWdodCBYLiBcbiAgICAgICAgaWYgKHggPiBwYWRkbGVYICYmIHggPCBwYWRkbGVYICsgUEFERExFX1dJRFRIKSB7XG4gICAgICAgICAgICAvLyBpZiB5ZXMsIGJvdW5jZSBpdCB1cCBhZ2Fpbi5cbiAgICAgICAgICAgIGR5ID0gLWR5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbGlmZVxuICAgICAgICAgICAgbGl2ZXMtLTtcbiAgICAgICAgICAgIGlmICghbGl2ZXMpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIkdBTUUgT1ZFUlwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IGNhbnZhcy53aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgeSA9IGNhbnZhcy5oZWlnaHQgLSAzMDtcbiAgICAgICAgICAgICAgICBkeCA9IDQ7XG4gICAgICAgICAgICAgICAgZHkgPSAtNDtcbiAgICAgICAgICAgICAgICBwYWRkbGVYID0gKGNhbnZhcy53aWR0aCAtIFBBRERMRV9XSURUSCkgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBtb3ZlbWVudCBhbmQgY29sbGlzaW9uIGRldGVjdGlvbiBmb3IgcGVkYWwgKGhvcml6b250YWxseSlcbiAgICBpZiAocmlnaHRQcmVzc2VkICYmIHBhZGRsZVggPCBjYW52YXMud2lkdGgtUEFERExFX1dJRFRIKSB7XG4gICAgICAgIHBhZGRsZVggKz0gNztcbiAgICB9IGVsc2UgaWYgKGxlZnRQcmVzc2VkICYmIHBhZGRsZVggPiAwKSB7XG4gICAgICAgIHBhZGRsZVggLT0gNztcbiAgICB9XG5cbiAgICB4ICs9IGR4O1xuICAgIHkgKz0gZHk7XG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG59XG5cbmRyYXcoKTsiXX0="}